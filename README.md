# oio-ea
# OIO交易策略 - MT5 EA

## 策略概述

这是一个基于MT5平台的OIO（Outside-Inside-Outside）交易策略。OIO结构由连续的三根K线组成，具有特定的价格关系模式。

## OIO结构定义

OIO结构满足以下条件：
- 第1根和第3根K线的最高价都大于或等于第2根K线的最高价
- 第1根和第3根K线的最低价都小于或等于第2根K线的最低价

## 策略逻辑

### 1. OIO结构识别
- 实时监控K线数据
- 当检测到OIO结构时，计算其高点、低点和中点
- 高点为三根K线的最高点，低点为三根K线的最低点
- 在图表上用橙色矩形标记OIO结构

### 2. 订单设置
当第三根K线收盘且识别为OIO后，自动设置两张限价单，均为1手：

**多单：**
- 开仓价：OIO高点 + 1个tick
- 止盈：开仓价 + 3个ticks
- 止损：OIO低点 - 1个tick

**空单：**
- 开仓价：OIO低点 - 1个tick
- 止盈：开仓价 - 3个ticks
- 止损：OIO高点 + 1个tick

### 3. 订单管理
- 当其中一单触发时，自动取消另一单
- 如果多单被触发，在OIO中点设置第二张多单，一手。止损：OIO低点 - 1个tick
- 如果空单被触发，在OIO中点设置第二张空单，一手。止损：OIO高点 + 1个tick
- 如果第一张订单止盈,且第二张订单未触发，则取消第二张订单
- 如果第一张订单未止盈，且触发第二张订单，则两笔订单的止盈价格均调整为两单的平均成本价 ± 3个ticks
